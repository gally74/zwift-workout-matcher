{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[routes,setRoutes]=useState([]);const[workoutTypes,setWorkoutTypes]=useState([]);const[matchedRoutes,setMatchedRoutes]=useState([]);const[loading,setLoading]=useState(false);const[uploadedFile,setUploadedFile]=useState(null);const[parsedWorkout,setParsedWorkout]=useState(null);const[workoutData,setWorkoutData]=useState({name:'',duration:'',intensity:'medium',focus:'',features:[]});// New states for FTP and Weight\nconst[ftp,setFtp]=useState('');const[weightKg,setWeightKg]=useState('');const[wkg,setWkg]=useState(null);const[matchingMethod,setMatchingMethod]=useState('');const[ftpUsed,setFtpUsed]=useState(null);useEffect(()=>{fetchRoutes();fetchWorkoutTypes();},[]);const fetchRoutes=async()=>{try{const response=await axios.get('/api/routes');setRoutes(response.data);}catch(error){console.error('Error fetching routes:',error);}};const fetchWorkoutTypes=async()=>{try{const response=await axios.get('/api/workout-types');setWorkoutTypes(response.data||[]);}catch(error){console.error('Error fetching workout types:',error);}};const handleInputChange=e=>{const{name,value}=e.target;setWorkoutData(prev=>({...prev,[name]:value}));};const handleFtpChange=e=>{setFtp(e.target.value);if(e.target.value&&weightKg){setWkg((parseFloat(e.target.value)/parseFloat(weightKg)).toFixed(2));}else{setWkg(null);}};const handleWeightChange=e=>{setWeightKg(e.target.value);if(ftp&&e.target.value){setWkg((parseFloat(ftp)/parseFloat(e.target.value)).toFixed(2));}else{setWkg(null);}};const handleFileUpload=async e=>{const file=e.target.files[0];if(!file)return;setLoading(true);setUploadedFile(file);const formData=new FormData();formData.append('zwoFile',file);formData.append('ftp',ftp);formData.append('weightKg',weightKg);try{const response=await axios.post('/api/upload-zwo',formData,{headers:{'Content-Type':'multipart/form-data'}});setMatchedRoutes(response.data.matches||[]);setParsedWorkout(response.data.workout||{});setWorkoutData(response.data.workout||{});setWkg(response.data.wkg);setMatchingMethod(response.data.matchingMethod);setFtpUsed(response.data.ftpUsed);setLoading(false);}catch(error){var _error$response,_error$response$data;console.error('Error uploading file:',error);setLoading(false);alert('Error uploading file: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message));}};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const response=await axios.post('/api/match-workout',{workoutData,ftp,weightKg});setMatchedRoutes(response.data.matches||[]);setWkg(response.data.wkg);setMatchingMethod(response.data.matchingMethod);setFtpUsed(response.data.ftpUsed);setLoading(false);}catch(error){var _error$response2,_error$response2$data;console.error('Error matching workout:',error);setLoading(false);alert('Error matching workout: '+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message));}};const formatDuration=seconds=>{const hours=Math.floor(seconds/3600);const minutes=Math.floor(seconds%3600/60);const remainingSeconds=seconds%60;if(hours>0){return`${hours}:${minutes.toString().padStart(2,'0')}:${remainingSeconds.toString().padStart(2,'0')}`;}else{return`${minutes}:${remainingSeconds.toString().padStart(2,'0')}`;}};const formatPower=power=>{return`${power}% FTP`;};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"app-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand-logos\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"zwift-logo\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"zwift-text\",children:\"ZWIFT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"zwift-icon\",children:\"\\uD83D\\uDEB4\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-separator\",children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"xert-logo\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"xert-text\",children:\"XERT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"xert-icon\",children:\"\\u26A1\"})]})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Workout Route Matcher\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"tagline\",children:\"Match your Xert workouts to perfect Zwift routes\"})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"input-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-number\",children:\"1\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Enter Your Power Data\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This helps us calculate your w/kg and match routes to your fitness level\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"power-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ftp\",children:\"FTP (Watts)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"ftp\",value:ftp,onChange:handleFtpChange,placeholder:\"e.g., 250\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"weightKg\",children:\"Weight (kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"weightKg\",value:weightKg,onChange:handleWeightChange,placeholder:\"e.g., 70\",min:\"0\",step:\"0.1\"})]}),wkg&&/*#__PURE__*/_jsx(\"div\",{className:\"wkg-display\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Your w/kg: \",/*#__PURE__*/_jsx(\"strong\",{children:wkg})]})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"input-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-number\",children:\"2\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Your Xert ZWO File\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload your workout file to get precise route matches\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-zone\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag and drop your .zwo file here, or click to browse\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".zwo\",onChange:handleFileUpload,id:\"zwoFile\",className:\"file-input\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"zwoFile\",className:\"upload-button\",children:\"Choose ZWO File\"})]}),uploadedFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"uploaded-file\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"file-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"span\",{className:\"file-name\",children:uploadedFile.name})]})]})]}),parsedWorkout&&/*#__PURE__*/_jsxs(\"section\",{className:\"workout-details-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-number\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Workout Analysis\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Detailed breakdown of your uploaded workout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workout-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"workout-overview\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"workout-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:parsedWorkout.name||'Unknown Workout'}),parsedWorkout.author&&/*#__PURE__*/_jsxs(\"div\",{className:\"workout-author\",children:[\"by \",parsedWorkout.author]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workout-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Duration\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:formatDuration(parsedWorkout.totalDuration||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Intensity\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:parsedWorkout.intensity||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Focus\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:parsedWorkout.focus||'Not specified'})]}),parsedWorkout.ftpOverride&&/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"FTP Override\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[parsedWorkout.ftpOverride,\"W\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workout-intervals\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Interval Breakdown\"}),/*#__PURE__*/_jsx(\"div\",{className:\"intervals-grid\",children:parsedWorkout.intervals&&parsedWorkout.intervals.map((interval,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"interval-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"interval-header\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"interval-number\",children:[\"#\",index+1]}),/*#__PURE__*/_jsx(\"span\",{className:\"interval-type\",children:interval.type||'Interval'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"interval-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"interval-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Duration:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatDuration(interval.duration||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"interval-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Power:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatPower(interval.power||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"interval-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Intensity:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[Math.round((interval.intensity||0)*100),\"%\"]})]})]})]},index))})]}),parsedWorkout.features&&parsedWorkout.features.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"workout-features\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Workout Features\"}),/*#__PURE__*/_jsx(\"div\",{className:\"features-tags\",children:parsedWorkout.features.map((feature,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"feature-tag\",children:feature},index))})]}),parsedWorkout.description&&/*#__PURE__*/_jsxs(\"div\",{className:\"workout-description\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:parsedWorkout.description})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"input-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-number\",children:\"3\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Manual Workout Entry (Alternative)\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Or manually enter workout details if you don't have a ZWO file\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"workout-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Workout Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:workoutData.name,onChange:handleInputChange,placeholder:\"e.g., Sweet Spot Training\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"duration\",children:\"Duration (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"duration\",name:\"duration\",value:workoutData.duration,onChange:handleInputChange,placeholder:\"e.g., 60\",min:\"0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"intensity\",children:\"Intensity\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"intensity\",name:\"intensity\",value:workoutData.intensity,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"recovery\",children:\"Recovery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"easy\",children:\"Easy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hard\",children:\"Hard\"}),/*#__PURE__*/_jsx(\"option\",{value:\"very_hard\",children:\"Very Hard\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"focus\",children:\"Focus\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"focus\",name:\"focus\",value:workoutData.focus,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Focus\"}),/*#__PURE__*/_jsx(\"option\",{value:\"endurance\",children:\"Endurance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"threshold\",children:\"Threshold\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vo2_max\",children:\"VO2 Max\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sweet_spot\",children:\"Sweet Spot\"}),/*#__PURE__*/_jsx(\"option\",{value:\"recovery\",children:\"Recovery\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:loading,children:loading?'Finding Routes...':'Find Matching Routes'})]})]}),workoutTypes.length>0&&/*#__PURE__*/_jsxs(\"section\",{className:\"quick-select-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Quick Select Workout Types\"}),/*#__PURE__*/_jsx(\"div\",{className:\"workout-types-grid\",children:workoutTypes.map((type,index)=>/*#__PURE__*/_jsxs(\"button\",{className:\"workout-type-button\",onClick:()=>{setWorkoutData({name:type.name,duration:type.duration,intensity:type.intensity,focus:type.focus,features:type.features||[]});},children:[/*#__PURE__*/_jsx(\"div\",{className:\"workout-type-name\",children:type.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"workout-type-details\",children:[type.duration,\"min \\u2022 \",type.intensity]})]},index))})]}),matchedRoutes.length>0&&/*#__PURE__*/_jsxs(\"section\",{className:\"results-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recommended Routes\"}),wkg&&/*#__PURE__*/_jsxs(\"div\",{className:\"wkg-info\",children:[\"w/kg: \",wkg]}),ftpUsed&&/*#__PURE__*/_jsxs(\"div\",{className:\"ftp-info\",children:[\"FTP Used: \",ftpUsed,\"W\"]}),matchingMethod&&/*#__PURE__*/_jsxs(\"div\",{className:\"method-info\",children:[\"Method: \",matchingMethod]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"routes-grid\",children:matchedRoutes.map((match,index)=>{var _match$route,_match$route2,_match$route3,_match$route4,_match$route5,_match$route6;return/*#__PURE__*/_jsxs(\"div\",{className:\"route-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"route-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"route-name\",children:((_match$route=match.route)===null||_match$route===void 0?void 0:_match$route.name)||'Unknown Route'}),/*#__PURE__*/_jsxs(\"div\",{className:\"route-score\",children:[(match.score*100).toFixed(0),\"% Match\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"route-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"route-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"world\",children:((_match$route2=match.route)===null||_match$route2===void 0?void 0:_match$route2.world)||'Unknown World'}),/*#__PURE__*/_jsx(\"span\",{className:\"category\",children:((_match$route3=match.route)===null||_match$route3===void 0?void 0:_match$route3.category)||'Unknown Category'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"route-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Distance:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[((_match$route4=match.route)===null||_match$route4===void 0?void 0:_match$route4.distance)||0,\" km\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Elevation:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[((_match$route5=match.route)===null||_match$route5===void 0?void 0:_match$route5.elevation)||0,\" m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Est. Time:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatDuration((match.estimatedTime||0)*60)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Badge XP:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:((_match$route6=match.route)===null||_match$route6===void 0?void 0:_match$route6.badgeXP)||0})]})]}),match.reasons&&match.reasons.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"match-reasons\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Why this route:\"}),/*#__PURE__*/_jsx(\"ul\",{children:match.reasons.map((reason,idx)=>/*#__PURE__*/_jsx(\"li\",{children:reason},idx))})]})]})]},index);})})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Finding the perfect routes for your workout...\"})]})]})}),/*#__PURE__*/_jsxs(\"footer\",{className:\"app-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Zwift Workout Route Matcher\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Match your Xert workouts to perfect Zwift routes\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Support the Project\"}),/*#__PURE__*/_jsx(\"p\",{children:\"If this tool helps your training, consider buying me a coffee!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"coffee-buttons\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://coff.ee/roygalvin\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"coffee-button\",children:\"\\u2615 Buy Me a Coffee\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://ko-fi.com/yourusername\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"kofi-button\",children:\"\\uD83C\\uDFA8 Support on Ko-fi\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Share\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Share this tool with other Zwift riders!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"share-buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigator.share({title:'Zwift Workout Route Matcher',text:'Match your Xert workouts to perfect Zwift routes!',url:window.location.href}),className:\"share-button\",children:\"\\uD83D\\uDCE4 Share\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-bottom\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 Zwift Workout Route Matcher. Made with \\u2764\\uFE0F for the cycling community.\"})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","App","routes","setRoutes","workoutTypes","setWorkoutTypes","matchedRoutes","setMatchedRoutes","loading","setLoading","uploadedFile","setUploadedFile","parsedWorkout","setParsedWorkout","workoutData","setWorkoutData","name","duration","intensity","focus","features","ftp","setFtp","weightKg","setWeightKg","wkg","setWkg","matchingMethod","setMatchingMethod","ftpUsed","setFtpUsed","fetchRoutes","fetchWorkoutTypes","response","get","data","error","console","handleInputChange","e","value","target","prev","handleFtpChange","parseFloat","toFixed","handleWeightChange","handleFileUpload","file","files","formData","FormData","append","post","headers","matches","workout","_error$response","_error$response$data","alert","message","handleSubmit","preventDefault","_error$response2","_error$response2$data","formatDuration","seconds","hours","Math","floor","minutes","remainingSeconds","toString","padStart","formatPower","power","className","children","htmlFor","type","id","onChange","placeholder","min","step","accept","author","totalDuration","ftpOverride","intervals","map","interval","index","round","length","feature","description","onSubmit","disabled","onClick","match","_match$route","_match$route2","_match$route3","_match$route4","_match$route5","_match$route6","route","score","world","category","distance","elevation","estimatedTime","badgeXP","reasons","reason","idx","href","rel","navigator","share","title","text","url","window","location"],"sources":["C:/Users/Roy/Documents/Cursor Projects/Project Zwift Workout Routes/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [routes, setRoutes] = useState([]);\r\n  const [workoutTypes, setWorkoutTypes] = useState([]);\r\n  const [matchedRoutes, setMatchedRoutes] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [parsedWorkout, setParsedWorkout] = useState(null);\r\n  const [workoutData, setWorkoutData] = useState({\r\n    name: '',\r\n    duration: '',\r\n    intensity: 'medium',\r\n    focus: '',\r\n    features: []\r\n  });\r\n  \r\n  // New states for FTP and Weight\r\n  const [ftp, setFtp] = useState('');\r\n  const [weightKg, setWeightKg] = useState('');\r\n  const [wkg, setWkg] = useState(null);\r\n  const [matchingMethod, setMatchingMethod] = useState('');\r\n  const [ftpUsed, setFtpUsed] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchRoutes();\r\n    fetchWorkoutTypes();\r\n  }, []);\r\n\r\n  const fetchRoutes = async () => {\r\n    try {\r\n      const response = await axios.get('/api/routes');\r\n      setRoutes(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching routes:', error);\r\n    }\r\n  };\r\n\r\n  const fetchWorkoutTypes = async () => {\r\n    try {\r\n      const response = await axios.get('/api/workout-types');\r\n      setWorkoutTypes(response.data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching workout types:', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setWorkoutData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleFtpChange = (e) => {\r\n    setFtp(e.target.value);\r\n    if (e.target.value && weightKg) {\r\n      setWkg((parseFloat(e.target.value) / parseFloat(weightKg)).toFixed(2));\r\n    } else {\r\n      setWkg(null);\r\n    }\r\n  };\r\n\r\n  const handleWeightChange = (e) => {\r\n    setWeightKg(e.target.value);\r\n    if (ftp && e.target.value) {\r\n      setWkg((parseFloat(ftp) / parseFloat(e.target.value)).toFixed(2));\r\n    } else {\r\n      setWkg(null);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    setLoading(true);\r\n    setUploadedFile(file);\r\n\r\n    const formData = new FormData();\r\n    formData.append('zwoFile', file);\r\n    formData.append('ftp', ftp);\r\n    formData.append('weightKg', weightKg);\r\n\r\n    try {\r\n      const response = await axios.post('/api/upload-zwo', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n\r\n      setMatchedRoutes(response.data.matches || []);\r\n      setParsedWorkout(response.data.workout || {});\r\n      setWorkoutData(response.data.workout || {});\r\n      setWkg(response.data.wkg);\r\n      setMatchingMethod(response.data.matchingMethod);\r\n      setFtpUsed(response.data.ftpUsed);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n      setLoading(false);\r\n      alert('Error uploading file: ' + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await axios.post('/api/match-workout', {\r\n        workoutData,\r\n        ftp,\r\n        weightKg\r\n      });\r\n\r\n      setMatchedRoutes(response.data.matches || []);\r\n      setWkg(response.data.wkg);\r\n      setMatchingMethod(response.data.matchingMethod);\r\n      setFtpUsed(response.data.ftpUsed);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error matching workout:', error);\r\n      setLoading(false);\r\n      alert('Error matching workout: ' + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  const formatDuration = (seconds) => {\r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const remainingSeconds = seconds % 60;\r\n    \r\n    if (hours > 0) {\r\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n    } else {\r\n      return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n    }\r\n  };\r\n\r\n  const formatPower = (power) => {\r\n    return `${power}% FTP`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"app-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"logo-section\">\r\n            <div className=\"brand-logos\">\r\n              <div className=\"zwift-logo\">\r\n                <span className=\"zwift-text\">ZWIFT</span>\r\n                <div className=\"zwift-icon\">üö¥</div>\r\n              </div>\r\n              <div className=\"logo-separator\">√ó</div>\r\n              <div className=\"xert-logo\">\r\n                <span className=\"xert-text\">XERT</span>\r\n                <div className=\"xert-icon\">‚ö°</div>\r\n              </div>\r\n            </div>\r\n            <h1>Workout Route Matcher</h1>\r\n          </div>\r\n          <p className=\"tagline\">Match your Xert workouts to perfect Zwift routes</p>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"main-content\">\r\n        <div className=\"container\">\r\n          {/* Step 1: FTP & Weight Input */}\r\n          <section className=\"input-section\">\r\n            <div className=\"section-header\">\r\n              <div className=\"step-number\">1</div>\r\n              <h2>Enter Your Power Data</h2>\r\n              <p>This helps us calculate your w/kg and match routes to your fitness level</p>\r\n            </div>\r\n            \r\n            <div className=\"power-inputs\">\r\n              <div className=\"input-group\">\r\n                <label htmlFor=\"ftp\">FTP (Watts)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"ftp\"\r\n                  value={ftp}\r\n                  onChange={handleFtpChange}\r\n                  placeholder=\"e.g., 250\"\r\n                  min=\"0\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"input-group\">\r\n                <label htmlFor=\"weightKg\">Weight (kg)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"weightKg\"\r\n                  value={weightKg}\r\n                  onChange={handleWeightChange}\r\n                  placeholder=\"e.g., 70\"\r\n                  min=\"0\"\r\n                  step=\"0.1\"\r\n                />\r\n              </div>\r\n              \r\n              {wkg && (\r\n                <div className=\"wkg-display\">\r\n                  <span>Your w/kg: <strong>{wkg}</strong></span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Step 2: ZWO File Upload */}\r\n          <section className=\"input-section\">\r\n            <div className=\"section-header\">\r\n              <div className=\"step-number\">2</div>\r\n              <h2>Upload Your Xert ZWO File</h2>\r\n              <p>Upload your workout file to get precise route matches</p>\r\n            </div>\r\n            \r\n            <div className=\"file-upload-area\">\r\n              <div className=\"upload-zone\">\r\n                <div className=\"upload-icon\">üìÅ</div>\r\n                <p>Drag and drop your .zwo file here, or click to browse</p>\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\".zwo\"\r\n                  onChange={handleFileUpload}\r\n                  id=\"zwoFile\"\r\n                  className=\"file-input\"\r\n                />\r\n                <label htmlFor=\"zwoFile\" className=\"upload-button\">\r\n                  Choose ZWO File\r\n                </label>\r\n              </div>\r\n              \r\n              {uploadedFile && (\r\n                <div className=\"uploaded-file\">\r\n                  <span className=\"file-icon\">‚úÖ</span>\r\n                  <span className=\"file-name\">{uploadedFile.name}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Parsed Workout Details */}\r\n          {parsedWorkout && (\r\n            <section className=\"workout-details-section\">\r\n              <div className=\"section-header\">\r\n                <div className=\"step-number\">üìä</div>\r\n                <h2>Workout Analysis</h2>\r\n                <p>Detailed breakdown of your uploaded workout</p>\r\n              </div>\r\n              \r\n              <div className=\"workout-details\">\r\n                <div className=\"workout-overview\">\r\n                  <div className=\"workout-header\">\r\n                    <h3>{parsedWorkout.name || 'Unknown Workout'}</h3>\r\n                    {parsedWorkout.author && (\r\n                      <div className=\"workout-author\">by {parsedWorkout.author}</div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"workout-stats\">\r\n                    <div className=\"stat-card\">\r\n                      <div className=\"stat-label\">Total Duration</div>\r\n                      <div className=\"stat-value\">{formatDuration(parsedWorkout.totalDuration || 0)}</div>\r\n                    </div>\r\n                    <div className=\"stat-card\">\r\n                      <div className=\"stat-label\">Intensity</div>\r\n                      <div className=\"stat-value\">{parsedWorkout.intensity || 'Unknown'}</div>\r\n                    </div>\r\n                    <div className=\"stat-card\">\r\n                      <div className=\"stat-label\">Focus</div>\r\n                      <div className=\"stat-value\">{parsedWorkout.focus || 'Not specified'}</div>\r\n                    </div>\r\n                    {parsedWorkout.ftpOverride && (\r\n                      <div className=\"stat-card\">\r\n                        <div className=\"stat-label\">FTP Override</div>\r\n                        <div className=\"stat-value\">{parsedWorkout.ftpOverride}W</div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"workout-intervals\">\r\n                  <h4>Interval Breakdown</h4>\r\n                  <div className=\"intervals-grid\">\r\n                    {parsedWorkout.intervals && parsedWorkout.intervals.map((interval, index) => (\r\n                      <div key={index} className=\"interval-card\">\r\n                        <div className=\"interval-header\">\r\n                          <span className=\"interval-number\">#{index + 1}</span>\r\n                          <span className=\"interval-type\">{interval.type || 'Interval'}</span>\r\n                        </div>\r\n                        <div className=\"interval-details\">\r\n                          <div className=\"interval-stat\">\r\n                            <span className=\"label\">Duration:</span>\r\n                            <span className=\"value\">{formatDuration(interval.duration || 0)}</span>\r\n                          </div>\r\n                          <div className=\"interval-stat\">\r\n                            <span className=\"label\">Power:</span>\r\n                            <span className=\"value\">{formatPower(interval.power || 0)}</span>\r\n                          </div>\r\n                          <div className=\"interval-stat\">\r\n                            <span className=\"label\">Intensity:</span>\r\n                            <span className=\"value\">{Math.round((interval.intensity || 0) * 100)}%</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                \r\n                {parsedWorkout.features && parsedWorkout.features.length > 0 && (\r\n                  <div className=\"workout-features\">\r\n                    <h4>Workout Features</h4>\r\n                    <div className=\"features-tags\">\r\n                      {parsedWorkout.features.map((feature, index) => (\r\n                        <span key={index} className=\"feature-tag\">{feature}</span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                {parsedWorkout.description && (\r\n                  <div className=\"workout-description\">\r\n                    <h4>Description</h4>\r\n                    <p>{parsedWorkout.description}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Step 3: Manual Entry (Alternative) */}\r\n          <section className=\"input-section\">\r\n            <div className=\"section-header\">\r\n              <div className=\"step-number\">3</div>\r\n              <h2>Manual Workout Entry (Alternative)</h2>\r\n              <p>Or manually enter workout details if you don't have a ZWO file</p>\r\n            </div>\r\n            \r\n            <form onSubmit={handleSubmit} className=\"workout-form\">\r\n              <div className=\"form-row\">\r\n                <div className=\"input-group\">\r\n                  <label htmlFor=\"name\">Workout Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    value={workoutData.name}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"e.g., Sweet Spot Training\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"input-group\">\r\n                  <label htmlFor=\"duration\">Duration (minutes)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"duration\"\r\n                    name=\"duration\"\r\n                    value={workoutData.duration}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"e.g., 60\"\r\n                    min=\"0\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-row\">\r\n                <div className=\"input-group\">\r\n                  <label htmlFor=\"intensity\">Intensity</label>\r\n                  <select\r\n                    id=\"intensity\"\r\n                    name=\"intensity\"\r\n                    value={workoutData.intensity}\r\n                    onChange={handleInputChange}\r\n                  >\r\n                    <option value=\"recovery\">Recovery</option>\r\n                    <option value=\"easy\">Easy</option>\r\n                    <option value=\"medium\">Medium</option>\r\n                    <option value=\"hard\">Hard</option>\r\n                    <option value=\"very_hard\">Very Hard</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"input-group\">\r\n                  <label htmlFor=\"focus\">Focus</label>\r\n                  <select\r\n                    id=\"focus\"\r\n                    name=\"focus\"\r\n                    value={workoutData.focus}\r\n                    onChange={handleInputChange}\r\n                  >\r\n                    <option value=\"\">Select Focus</option>\r\n                    <option value=\"endurance\">Endurance</option>\r\n                    <option value=\"threshold\">Threshold</option>\r\n                    <option value=\"vo2_max\">VO2 Max</option>\r\n                    <option value=\"sweet_spot\">Sweet Spot</option>\r\n                    <option value=\"recovery\">Recovery</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              \r\n              <button type=\"submit\" className=\"submit-button\" disabled={loading}>\r\n                {loading ? 'Finding Routes...' : 'Find Matching Routes'}\r\n              </button>\r\n            </form>\r\n          </section>\r\n\r\n          {/* Quick Select Workout Types */}\r\n          {workoutTypes.length > 0 && (\r\n            <section className=\"quick-select-section\">\r\n              <h3>Quick Select Workout Types</h3>\r\n              <div className=\"workout-types-grid\">\r\n                {workoutTypes.map((type, index) => (\r\n                  <button\r\n                    key={index}\r\n                    className=\"workout-type-button\"\r\n                    onClick={() => {\r\n                      setWorkoutData({\r\n                        name: type.name,\r\n                        duration: type.duration,\r\n                        intensity: type.intensity,\r\n                        focus: type.focus,\r\n                        features: type.features || []\r\n                      });\r\n                    }}\r\n                  >\r\n                    <div className=\"workout-type-name\">{type.name}</div>\r\n                    <div className=\"workout-type-details\">\r\n                      {type.duration}min ‚Ä¢ {type.intensity}\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Results Section */}\r\n          {matchedRoutes.length > 0 && (\r\n            <section className=\"results-section\">\r\n              <div className=\"results-header\">\r\n                <h2>Recommended Routes</h2>\r\n                {wkg && <div className=\"wkg-info\">w/kg: {wkg}</div>}\r\n                {ftpUsed && <div className=\"ftp-info\">FTP Used: {ftpUsed}W</div>}\r\n                {matchingMethod && <div className=\"method-info\">Method: {matchingMethod}</div>}\r\n              </div>\r\n              \r\n              <div className=\"routes-grid\">\r\n                {matchedRoutes.map((match, index) => (\r\n                  <div key={index} className=\"route-card\">\r\n                    <div className=\"route-header\">\r\n                      <h3 className=\"route-name\">{match.route?.name || 'Unknown Route'}</h3>\r\n                      <div className=\"route-score\">{(match.score * 100).toFixed(0)}% Match</div>\r\n                    </div>\r\n                    \r\n                    <div className=\"route-details\">\r\n                      <div className=\"route-info\">\r\n                        <span className=\"world\">{match.route?.world || 'Unknown World'}</span>\r\n                        <span className=\"category\">{match.route?.category || 'Unknown Category'}</span>\r\n                      </div>\r\n                      \r\n                      <div className=\"route-stats\">\r\n                        <div className=\"stat\">\r\n                          <span className=\"label\">Distance:</span>\r\n                          <span className=\"value\">{match.route?.distance || 0} km</span>\r\n                        </div>\r\n                        <div className=\"stat\">\r\n                          <span className=\"label\">Elevation:</span>\r\n                          <span className=\"value\">{match.route?.elevation || 0} m</span>\r\n                        </div>\r\n                        <div className=\"stat\">\r\n                          <span className=\"label\">Est. Time:</span>\r\n                          <span className=\"value\">{formatDuration((match.estimatedTime || 0) * 60)}</span>\r\n                        </div>\r\n                        <div className=\"stat\">\r\n                          <span className=\"label\">Badge XP:</span>\r\n                          <span className=\"value\">{match.route?.badgeXP || 0}</span>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      {match.reasons && match.reasons.length > 0 && (\r\n                        <div className=\"match-reasons\">\r\n                          <strong>Why this route:</strong>\r\n                          <ul>\r\n                            {match.reasons.map((reason, idx) => (\r\n                              <li key={idx}>{reason}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Loading State */}\r\n          {loading && (\r\n            <div className=\"loading-overlay\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>Finding the perfect routes for your workout...</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      {/* Footer with Buy Me a Coffee */}\r\n      <footer className=\"app-footer\">\r\n        <div className=\"footer-content\">\r\n          <div className=\"footer-section\">\r\n            <h3>Zwift Workout Route Matcher</h3>\r\n            <p>Match your Xert workouts to perfect Zwift routes</p>\r\n          </div>\r\n          \r\n          <div className=\"footer-section\">\r\n            <h4>Support the Project</h4>\r\n            <p>If this tool helps your training, consider buying me a coffee!</p>\r\n            <div className=\"coffee-buttons\">\r\n              <a \r\n                href=\"https://coff.ee/roygalvin\" \r\n                target=\"_blank\" \r\n                rel=\"noopener noreferrer\"\r\n                className=\"coffee-button\"\r\n              >\r\n                ‚òï Buy Me a Coffee\r\n              </a>\r\n              <a \r\n                href=\"https://ko-fi.com/yourusername\" \r\n                target=\"_blank\" \r\n                rel=\"noopener noreferrer\"\r\n                className=\"kofi-button\"\r\n              >\r\n                üé® Support on Ko-fi\r\n              </a>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"footer-section\">\r\n            <h4>Share</h4>\r\n            <p>Share this tool with other Zwift riders!</p>\r\n            <div className=\"share-buttons\">\r\n              <button \r\n                onClick={() => navigator.share({ \r\n                  title: 'Zwift Workout Route Matcher', \r\n                  text: 'Match your Xert workouts to perfect Zwift routes!', \r\n                  url: window.location.href \r\n                })}\r\n                className=\"share-button\"\r\n              >\r\n                üì§ Share\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"footer-bottom\">\r\n          <p>&copy; 2024 Zwift Workout Route Matcher. Made with ‚ù§Ô∏è for the cycling community.</p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}